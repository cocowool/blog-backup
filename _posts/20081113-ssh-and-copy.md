---
title: SSH连接服务器并且拷贝文件
date: 2008-11-13 16:18:01
tag: 
---

通过SSH可以远程登录到服务器上，基本的语法是：
ssh username@ip
回车以后会提示输入密码，并且需要接受证书。

今天在登录的时候，出现了一个错误提示：

” Remote Host Identification Has Changed“

每一个SSH服务器都使用的是一个随机的KEY，当SSH被重新安装过以后，这个KEY就发生了变化，但是我们登录的时候，会从本机寻找之前使用过的KEY，这个时候就会出现上面的提示，这种情况大多出现在服务器或者SSH服务被重新安装以后。
解决这个问题的最简单的办法就是删除known-hosts文件，该文件位于~/.ssh/known-hosts

当我们再次登录的时候，会重新创建这个文件，并把新的KEY加到里面去。


拷贝远程服务器的文件到本地，利用scp。

scp就是secure copy，是用来进行远程文件拷贝的，数据传输使用ssh1，并且和ssh1使用相同的认证方式，提供相同的安全保证，与rcp不同的是scp会要求你输入密码，如果需要的话。
最简单的应用如下：
scp 本地用户名@IP地址：文件名1 远程用户名@IP地址：文件名2
[本地用户名@IP地址:]可以不输入,可能需要输入远程用户名所对应的密码.
可能有用的几个参数:
-v 和大多数linux命令中的-v意思一样,用来显示进度.可以用来查看连接,认证,或是配置错误.
-C 使能压缩选项.
-P 选择端口.注意-p已经被rcp使用.
-4 强行使用IPV4地址.
-6 强行使用IPV6地址.












